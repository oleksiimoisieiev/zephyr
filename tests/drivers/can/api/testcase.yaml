tests:
  drivers.can.api:
    tags:
      - drivers
      - can
    depends_on: can
    filter: dt_chosen_enabled("zephyr,canbus") and not dt_compat_enabled("kvaser,pcican")
  drivers.can.api.twai:
    tags:
      - drivers
      - can
    extra_args: DTC_OVERLAY_FILE=twai-enable.overlay
    filter: dt_compat_enabled("espressif,esp32-twai")
    platform_allow:
      - esp32_devkitc_wroom
      - esp32_devkitc_wrover
      - esp32c3_devkitm
      - esp32s2_saola
      - esp32s3_devkitm
      - xiao_esp32s3
  drivers.can.api.rz_g3s:
    tags:
      - drivers
      - can
    depends_on: can
    extra_args: SNIPPET="rz-g3s-canfd0-test"
    platform_allow:
      - rz_g3s
